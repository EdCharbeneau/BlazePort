@using System.Threading

@CountdownMessage

@code {

    string CountdownMessage;

    TimeSpan timeSpan;

    [Parameter] public DateTime CountdownTo { get; set; }

    protected override void OnParametersSet()
    {
        var timer = new Timer(new TimerCallback(_ =>
        {
            timeSpan = CountdownTo - DateTime.Now;
            CountdownMessage = $"{timeSpan.Days:00}:{timeSpan.Hours:00}:{timeSpan.Minutes:00}:{timeSpan.Seconds:00}";
            InvokeAsync(StateHasChanged);
        }), null, 1000, 1000);
    }
}